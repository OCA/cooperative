===========
Cooperators
===========

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:76816530538edb556d503feb7d930c7d7d43453aa38986ec8a5686d1e0352993
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fcooperative-lightgray.png?logo=github
    :target: https://github.com/OCA/cooperative/tree/14.0/cooperator
    :alt: OCA/cooperative
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/cooperative-14-0/cooperative-14-0-cooperator
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/cooperative&target_branch=14.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

Manage cooperators of a cooperative.

A basic flow can be the following:

- Create subscription request for a person (moral or physical)
- Validate subscription request, a capital release request (an invoice: `account.move`).
  This invoice is sent to the future cooperator.
- Payment of the cooperator is registered and the capital Release
  request is marked as paid.
- A new cooperator (a special partner) is created, and the right type
  and amount of share is linked to this new cooperator.
- The new cooperator appears in the Cooperator Registry.

Features:

- Manage several share types
- Manage share subscription request
- Cooperators can be individuals or companies
- Get an up to date Cooperator Registry
- See shares of a cooperator on the partner view
- Manage departure of cooperators
- Manage conversion between different share type
- Send automatic mail to the future cooperator during the procedure
- Can be used with multi-company configuration
- Generate Cooperator Certificate and several reports about cooperators

Configurations:

- on the company, set a default payment term for the capital release requests.
- on the company, set the cooperator account.

**Table of contents**

.. contents::
   :local:

Installation
============

## Migrating from easy_my_coop* to cooperator modules

Run this command before updating your modules

.. code-block:: shell

  cat rename_deprecated_modules.py | ./odoo/odoo-bin shell -c odoo.conf --no-http  --stop-after-init -d <db-name>

## Deploying with pip

We used [odoo setup tools](https://pypi.org/project/setuptools-odoo/#packaging-a-single-addon) to generate the pypi files from the odoo manifests. To deploy any packaged module, so that odoo can later install them,
you can create a venv with this name (it's git-ignored)
```shell
python -m venv venv
```
And then pip-install them [from pypi](https://pypi.org/user/coopdevs/).

### Example

For instance, for the addon `cooperator_portal`

.. code-block:: shell

  pip install odoo14-addon-cooperator-portal==14.0.1.0.0.99.dev9

Beware that for word separation, pypi uses dashes `-` and odoo underscores `_`.

Usage
=====

See the [documentation](https://doc.it4socialeconomy.org/books/application-cooperators) (not available in english ATM).

A localization module is needed with this module.

Known issues / Roadmap
======================

Gather and consolidate all cooperator settings in the application parameters.

Consider a refactoring for:
1. removing a potential redundancy between the boolean field "representative" and the address type "representative".
2. prevent new contacts to have the representative address type, if they are not representative.
See [this issue](https://github.com/coopiteasy/vertical-cooperative/issues/350)

known_caveats: the cooperator localization modules will have to be splitted in order to install the `cooperator` module without the `cooperator_website` module.

Registering a payment for a subscription request for a company other than the
current one does not create the cooperative membership information for the
partner.

A “Cooperative Memberships” page should be added to the ``res.partner`` form,
displaying all the cooperative memberships of the partner
(``cooperative_membership_ids``). The page should only be visible for users
that are both in the ``cooperator_group_user`` group and in the
``base.group_multi_company`` group (how to do this?). Should it display the
memberships of all companies or only the ones in which the user is “logged in”
(checked in the menu)? If all companies, there would be a conflict with the
``cooperative_membership_rule_company`` ``ir.rule``.

Changelog
=========

14.0.2.0.0 (2023-07-25)
~~~~~~~~~~~~~~~~~~~~~~~

**Features**

- Each company now has their own mail templates for cooperator-related e-mails. If
  no template is set, the default (global) template is used. (`#73 <https://github.com/OCA/cooperative/issues/73>`_)
- ir.sequences used by this module are no longer global; each company has its own
  sequence for cooperator memberships. (`#74 <https://github.com/OCA/cooperative/issues/74>`_)
- Create subscription journal per company. (`#75 <https://github.com/OCA/cooperative/issues/75>`_)
- Improve multi-company consistency by setting ``company_id`` on records where
  needed and adding the ``check_company`` flag on ``Many2one`` fields. (`#77 <https://github.com/OCA/cooperative/issues/77>`_)
- ir.rules for multi-company usage added. Users cannot access records of this
  module if they are not members of the relevant company. (`#78 <https://github.com/OCA/cooperative/issues/78>`_)
- Move cooperative membership properties from ``res.partner`` to new
  ``cooperative.membership`` model and add company-dependent computed fields on
  ``res.partner`` for backward compatibility. (`#82 <https://github.com/OCA/cooperative/issues/82>`_)


14.0.1.6.0 (2023-02-23)
~~~~~~~~~~~~~~~~~~~~~~~

**Features**

- Removed all selection widgets. (`#55 <https://github.com/OCA/cooperative/issues/55>`_)


12.0.5.3.0 (2022-09-05)
~~~~~~~~~~~~~~~~~~~~~~~

**Improved Documentation**

- Adding USAGE.rst to inform that localization modules are necessary. (`#346 <https://github.com/coopiteasy/vertical-cooperative/issues/346>`_)


12.0.5.0.0 (2022-06-23)
~~~~~~~~~~~~~~~~~~~~~~~

**Deprecations and Removals**

- When no cooperator account is defined on the company, this module previously
  defaulted to the account with code '416000'. This behaviour has been removed
  because the code is Belgian-only. The functionality has been moved to
  ``l10n_be_cooperator``. (`#314 <https://github.com/coopiteasy/vertical-cooperative/issues/314>`_)


12.0.3.3.2 (2022-06-20)
~~~~~~~~~~~~~~~~~~~~~~~

**Bugfixes**

- Fix name computation crash (`#330 <https://github.com/coopiteasy/vertical-cooperative/issues/330>`_)

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/cooperative/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/cooperative/issues/new?body=module:%20cooperator%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Coop IT Easy SC

Contributors
~~~~~~~~~~~~

* `Coop IT Easy SC <https://coopiteasy.be>`_:

  * Houssine Bakkali
  * Robin Keunen
  * Rémy Taymans
  * Victor Champonnois
  * Vincent Van Rossem
  * Manuel Claeys Bouuaert
  * Carmen Bianca Bakker
  * hugues de keyzer

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/cooperative <https://github.com/OCA/cooperative/tree/14.0/cooperator>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
